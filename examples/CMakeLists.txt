macro(build_example name)
   add_executable("example_${name}_default" ${ARGN})
   add_target_property("example_${name}_default" LABELS "other")
   add_dependencies(other "example_${name}_default")
   target_link_libraries("example_${name}_default" Vc)

   add_executable("example_${name}_sse" ${ARGN})
   add_target_property("example_${name}_sse" COMPILE_FLAGS "-DVC_IMPL=SSE")
   add_target_property("example_${name}_sse" LABELS "SSE")
   add_dependencies(SSE "example_${name}_default")
   target_link_libraries("example_${name}_sse" Vc)

   add_executable("example_${name}_scalar" ${ARGN})
   add_target_property("example_${name}_scalar" COMPILE_FLAGS "-DVC_IMPL=Scalar")
   add_target_property("example_${name}_scalar" LABELS "Scalar")
   add_dependencies(Scalar "example_${name}_default")
   target_link_libraries("example_${name}_scalar" Vc)
endmacro(build_example)

add_subdirectory(polarcoord)
add_subdirectory(matrix)
add_subdirectory(mandelbrot)
add_subdirectory(buddhabrot)
add_subdirectory(finitediff)
